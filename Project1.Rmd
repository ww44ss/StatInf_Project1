---
title: "Exploring Variances of the Exponential Distribution"
author: "ww44ss"
date: "October 2014"
output: pdf_document

---

##Synopsis

This analysis shows how the mean and standard deviation of a finite random sample of a uniform distribution converge to population mean with increasing sample size.

Here is a sample of the data. 

```{r "creatematrix", echo=TRUE}

##create data for analysis

        ##Set seed to make results reproducible
        set.seed(8675309)

        ##makes sample sizes variable
        rowsofsamples <- 42
        columnsofdistributions <- 1003

        ##set lambda 
        lambda <- .2

        ##create data frame using slightly different method than in class
        ##c rows is the sample index and column indexes the distribution.
        rdata <- replicate(columnsofdistributions, rexp(rowsofsamples, lambda)) 
       
        ##look at structure of data
        rdata[1:10, 1:11]

```

This analysis looks at a set of `r columnsofdistributions` distributions of `r rowsofsamples` samples.

###Question1: Show where the distribution is centered and compare it to the theoretical center of the distribution.

```{r "means"}

##Take means of columns and plot histrogram with mean and theoretical mean 
        
        ##Compute Column means
        expmeans <- colMeans(rdata)

        ##Calculate "Mean of Means"
        meanofdistmeans<-mean(expmeans)

```

The mean of the distribution `r meanofdistmeans` differs by `r 100*(meanofdistmeans/5.-1.)`% from the theoretical population mean of 5.0


###Variance:  Show how variable it is and compare it to the theoretical variance of the distribution.


```{r "variance"}

        ## Calculate the Variance
        varofdistmeans = var(expmeans)

```

The theoretical variance of the distribution is `r lambda` versus the variance of the data `r varofdistmeans`, which is `r varofdistmeans/lambda` times larger.

###Distribution: Show that the distribution is approximately normal.

```{r "histogram"}

        ##Generate Historgram
        hist(expmeans, prob=TRUE, density=12, angle=45, xlim=c(2,8), ylim=c(0,0.6),col="blue")
        curve(dnorm(x, mean=mean(expmeans), sd=sd(expmeans)), add=TRUE)

        
        ##Draw lines at mean and theoretical mean = 5
        abline(v=meanofdistmeans, lwd=3, col="red")
        abline(v=5, lwd=3, col="darkgreen")

        ##Label means on graph
        text(meanofdistmeans,0.55, "Sample Mean", col="red", adj=c(-0.1,0))
        text(5,0.55, "Population Mean", col="darkgreen", adj=c(1.10,0))
        text(5.5,0.35, "Fitted Normal Distribution", col="black", adj=c(-.10,0))

        ###Draw Std Deviation Lines
        



```

Above is a plot of a histogram of the exponentials. The sample mean of the data, shown in the graph by the red vertical line at `r mean(expmeans)` is barely distinguishable from the popultion mean at 5.000. The fit of the normal distribution, from the sample mean and standard deviation `r sd(expmeans)` follows the data well. 

###Convergence: Evaluate the coverage of the confidence interval for 1/lambda


```{r "convergence"}

a<-1.0






```

